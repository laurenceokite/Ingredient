{"ast":null,"code":"function getIngredientMeasurement() {\n  //If global state measurement system has been changed, set submeasure to no \"newMeasurement\" and return value or false\n  if (!value && !state.autoConvert && ingredientState.newMeasurement) {\n    setIngredientState({\n      measSystem: measSystem,\n      submeasure: amounts[measSystem].submeasure,\n      newMeasurement: false\n    });\n    return value;\n  } //If auto convert is on, and no preexisting value, convert to new measSystem using convertMeasure\n  else if (!value && state.autoConvert && (!ingredientState.newMeasurement || ingredientState.measSystem !== measSystem)) {\n    const existingMeasurement = getExistingMeasurement(amounts);\n    const existingSubmeasure = existingMeasurement[1].submeasure;\n    const existingValue = existingMeasurement[1].value;\n    const existingSystem = existingMeasurement[0];\n    console.log(measSystem);\n    const {\n      newMeasurement,\n      newSubmeasure\n    } = convertMeasure([existingSystem, existingSubmeasure], [measSystem], existingValue);\n    setIngredientState({\n      measSystem: measSystem,\n      submeasure: newSubmeasure,\n      newMeasurement: newMeasurement\n    });\n    return newMeasurement;\n  } //If there is a saved value and nothing has been changed, return saved value\n  else if (value) {\n    console.log(measSystem);\n\n    if (measSystem !== ingredientState.measSystem) {\n      setIngredientState({\n        measSystem: measSystem,\n        submeasure: amounts[measSystem].submeasure,\n        newMeasurement: false\n      });\n    }\n\n    return value;\n  } //If submeasure has changed return new measurement\n  else if (ingredientState.newMeasurement) {\n    return ingredientState.newMeasurement;\n  } else {\n    if (measSystem !== ingredientState.measSystem) {\n      setIngredientState({\n        measSystem: measSystem,\n        submeasure: amounts[measSystem].submeasure,\n        newMeasurement: false\n      });\n    }\n\n    return false;\n  }\n}\n\nexport default getIngredientMeasurement;","map":{"version":3,"sources":["/Users/laurenceokite/Documents/projects/recipes/src/components/RenderIngredient/getIngredientMeasurement.js"],"names":["getIngredientMeasurement","value","state","autoConvert","ingredientState","newMeasurement","setIngredientState","measSystem","submeasure","amounts","existingMeasurement","getExistingMeasurement","existingSubmeasure","existingValue","existingSystem","console","log","newSubmeasure","convertMeasure"],"mappings":"AAAA,SAASA,wBAAT,GAAoC;AAEhC;AACA,MAAI,CAACC,KAAD,IAAU,CAACC,KAAK,CAACC,WAAjB,IAAgCC,eAAe,CAACC,cAApD,EAAoE;AAChEC,IAAAA,kBAAkB,CAAC;AACfC,MAAAA,UAAU,EAAEA,UADG;AAEfC,MAAAA,UAAU,EAAEC,OAAO,CAACF,UAAD,CAAP,CAAoBC,UAFjB;AAGfH,MAAAA,cAAc,EAAE;AAHD,KAAD,CAAlB;AAMA,WAAOJ,KAAP;AACH,GARD,CAUA;AAVA,OAWK,IAAI,CAACA,KAAD,IAAUC,KAAK,CAACC,WAAhB,KAAgC,CAACC,eAAe,CAACC,cAAjB,IAAmCD,eAAe,CAACG,UAAhB,KAA+BA,UAAlG,CAAJ,EAAmH;AACpH,UAAMG,mBAAmB,GAAGC,sBAAsB,CAACF,OAAD,CAAlD;AAEA,UAAMG,kBAAkB,GAAGF,mBAAmB,CAAC,CAAD,CAAnB,CAAuBF,UAAlD;AACA,UAAMK,aAAa,GAAGH,mBAAmB,CAAC,CAAD,CAAnB,CAAuBT,KAA7C;AACA,UAAMa,cAAc,GAAGJ,mBAAmB,CAAC,CAAD,CAA1C;AAEAK,IAAAA,OAAO,CAACC,GAAR,CAAYT,UAAZ;AAEA,UAAM;AAAEF,MAAAA,cAAF;AAAkBY,MAAAA;AAAlB,QAAoCC,cAAc,CAAC,CAACJ,cAAD,EAAiBF,kBAAjB,CAAD,EAAuC,CAACL,UAAD,CAAvC,EAAqDM,aAArD,CAAxD;AAEAP,IAAAA,kBAAkB,CAAC;AACfC,MAAAA,UAAU,EAAEA,UADG;AAEfC,MAAAA,UAAU,EAAES,aAFG;AAGfZ,MAAAA,cAAc,EAAEA;AAHD,KAAD,CAAlB;AAMA,WAAOA,cAAP;AACH,GAlBI,CAoBL;AApBK,OAqBA,IAAIJ,KAAJ,EAAU;AACXc,IAAAA,OAAO,CAACC,GAAR,CAAYT,UAAZ;;AACA,QAAIA,UAAU,KAAKH,eAAe,CAACG,UAAnC,EAA+C;AAC3CD,MAAAA,kBAAkB,CAAC;AACfC,QAAAA,UAAU,EAAEA,UADG;AAEfC,QAAAA,UAAU,EAAEC,OAAO,CAACF,UAAD,CAAP,CAAoBC,UAFjB;AAGfH,QAAAA,cAAc,EAAE;AAHD,OAAD,CAAlB;AAKH;;AACD,WAAOJ,KAAP;AACH,GAVI,CAYL;AAZK,OAaA,IAAIG,eAAe,CAACC,cAApB,EAAoC;AACrC,WAAOD,eAAe,CAACC,cAAvB;AACH,GAFI,MAIA;AACD,QAAIE,UAAU,KAAKH,eAAe,CAACG,UAAnC,EAA+C;AAC3CD,MAAAA,kBAAkB,CAAC;AACfC,QAAAA,UAAU,EAAEA,UADG;AAEfC,QAAAA,UAAU,EAAEC,OAAO,CAACF,UAAD,CAAP,CAAoBC,UAFjB;AAGfH,QAAAA,cAAc,EAAE;AAHD,OAAD,CAAlB;AAKH;;AACD,WAAO,KAAP;AACH;AACJ;;AAED,eAAeL,wBAAf","sourcesContent":["function getIngredientMeasurement() {\n\n    //If global state measurement system has been changed, set submeasure to no \"newMeasurement\" and return value or false\n    if (!value && !state.autoConvert && ingredientState.newMeasurement) {\n        setIngredientState({\n            measSystem: measSystem,\n            submeasure: amounts[measSystem].submeasure,\n            newMeasurement: false\n        });\n        \n        return value;\n    } \n\n    //If auto convert is on, and no preexisting value, convert to new measSystem using convertMeasure\n    else if (!value && state.autoConvert && (!ingredientState.newMeasurement || ingredientState.measSystem !== measSystem)) {\n        const existingMeasurement = getExistingMeasurement(amounts);\n\n        const existingSubmeasure = existingMeasurement[1].submeasure;\n        const existingValue = existingMeasurement[1].value;\n        const existingSystem = existingMeasurement[0];\n\n        console.log(measSystem);\n        \n        const { newMeasurement, newSubmeasure } = convertMeasure([existingSystem, existingSubmeasure], [measSystem], existingValue);\n\n        setIngredientState({\n            measSystem: measSystem,\n            submeasure: newSubmeasure,\n            newMeasurement: newMeasurement\n        });\n\n        return newMeasurement;\n    }\n\n    //If there is a saved value and nothing has been changed, return saved value\n    else if (value){\n        console.log(measSystem);\n        if (measSystem !== ingredientState.measSystem) {\n            setIngredientState({\n                measSystem: measSystem,\n                submeasure: amounts[measSystem].submeasure,\n                newMeasurement: false\n            });\n        }\n        return(value);\n    }\n\n    //If submeasure has changed return new measurement\n    else if (ingredientState.newMeasurement) {\n        return(ingredientState.newMeasurement);\n    } \n\n    else {\n        if (measSystem !== ingredientState.measSystem) {\n            setIngredientState({\n                measSystem: measSystem,\n                submeasure: amounts[measSystem].submeasure,\n                newMeasurement: false\n            });\n        }\n        return(false);\n    }\n}\n\nexport default getIngredientMeasurement;"]},"metadata":{},"sourceType":"module"}