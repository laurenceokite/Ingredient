{"ast":null,"code":"import { Ingredient } from \"./Ingredient\";\nimport { makeAutoObservable } from 'mobx';\nexport class Recipe {\n  constructor(system, units, anchorIndex, name, ingredients) {\n    this.multiplier = 1;\n    this.data = void 0;\n    this.system = void 0;\n    this.units = void 0;\n    this.state = void 0;\n    this.anchorIndex = void 0;\n    this.name = void 0;\n    this.ingredients = void 0;\n    this.data = new Ingredient(); //gets info to pass to selects\n\n    makeAutoObservable(this); //mobx state observer.\n\n    this.system = system;\n    this.units = units;\n    this.state = `${this.system}_${this.units}`;\n    this.anchorIndex = anchorIndex;\n    this.ingredients = [];\n    this.ingredients.map((ingredient, index) => {\n      this.ingredients[index].recipeIndex = index;\n    });\n    if (name) this.name = name;\n    if (ingredients) this.ingredients = ingredients;\n  } //get bakers percent of ingredient\n\n\n  bakersPercent(index) {\n    const anchor = this.ingredients[this.anchorIndex];\n    const anchorValue = this.state.includes('weight') ? anchor.standardWeight : anchor.standardVolume;\n    const ingredientValue = this.state.includes('weight') ? //if metric_weight or us_weight\n    this.ingredients[index].standardWeight : //return weight\n    this.ingredients[index].standardVolume; //else return volume\n\n    return ingredientValue / anchorValue * 100;\n  } //change recipe system and/or unit\n\n\n  changeState(system, units) {\n    this.system = system;\n    this.units = units;\n    this.state = `${this.system}_${this.units}`;\n    return this;\n  }\n\n  addIngredient(ingredient) {\n    this.ingredients.push(ingredient);\n    return this;\n  }\n\n}","map":{"version":3,"sources":["/Users/laurenceokite/Documents/projects/recipes/client/src/components/Recipe/Recipe.tsx"],"names":["Ingredient","makeAutoObservable","Recipe","constructor","system","units","anchorIndex","name","ingredients","multiplier","data","state","map","ingredient","index","recipeIndex","bakersPercent","anchor","anchorValue","includes","standardWeight","standardVolume","ingredientValue","changeState","addIngredient","push"],"mappings":"AAAA,SAASA,UAAT,QAA2B,cAA3B;AACA,SAASC,kBAAT,QAAmC,MAAnC;AAMA,OAAO,MAAMC,MAAN,CAAa;AAWhBC,EAAAA,WAAW,CAACC,MAAD,EAAwBC,KAAxB,EAA4CC,WAA5C,EAAiEC,IAAjE,EAAgFC,WAAhF,EAA4G;AAAA,SAVvHC,UAUuH,GAV1G,CAU0G;AAAA,SARvHC,IAQuH;AAAA,SAPvHN,MAOuH;AAAA,SANvHC,KAMuH;AAAA,SALvHM,KAKuH;AAAA,SAJvHL,WAIuH;AAAA,SAHvHC,IAGuH;AAAA,SAFvHC,WAEuH;AACnH,SAAKE,IAAL,GAAY,IAAIV,UAAJ,EAAZ,CADmH,CACtF;;AAE7BC,IAAAA,kBAAkB,CAAC,IAAD,CAAlB,CAHmH,CAG1F;;AAEzB,SAAKG,MAAL,GAAcA,MAAd;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKM,KAAL,GAAc,GAAE,KAAKP,MAAO,IAAG,KAAKC,KAAM,EAA1C;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKE,WAAL,GAAmB,EAAnB;AAEA,SAAKA,WAAL,CAAiBI,GAAjB,CAAqB,CAACC,UAAD,EAAaC,KAAb,KAAuB;AACxC,WAAKN,WAAL,CAAiBM,KAAjB,EAAwBC,WAAxB,GAAsCD,KAAtC;AACH,KAFD;AAIA,QAAIP,IAAJ,EAAU,KAAKA,IAAL,GAAYA,IAAZ;AACV,QAAIC,WAAJ,EAAiB,KAAKA,WAAL,GAAmBA,WAAnB;AACpB,GA5Be,CA8BhB;;;AACAQ,EAAAA,aAAa,CAACF,KAAD,EAAwB;AACjC,UAAMG,MAAM,GAAG,KAAKT,WAAL,CAAiB,KAAKF,WAAtB,CAAf;AACA,UAAMY,WAAW,GAAG,KAAKP,KAAL,CAAWQ,QAAX,CAAoB,QAApB,IAAgCF,MAAM,CAACG,cAAvC,GAAwDH,MAAM,CAACI,cAAnF;AAEA,UAAMC,eAAe,GAAG,KAAKX,KAAL,CAAWQ,QAAX,CAAoB,QAApB,IAAgC;AACpD,SAAKX,WAAL,CAAiBM,KAAjB,EAAwBM,cADJ,GACqB;AACzC,SAAKZ,WAAL,CAAiBM,KAAjB,EAAwBO,cAF5B,CAJiC,CAMW;;AAE5C,WAAQC,eAAe,GAAIJ,WAApB,GAAoC,GAA3C;AACH,GAxCe,CA0ChB;;;AACAK,EAAAA,WAAW,CAACnB,MAAD,EAAwBC,KAAxB,EAAoD;AAC3D,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKC,KAAL,GAAaA,KAAb;AAEA,SAAKM,KAAL,GAAc,GAAE,KAAKP,MAAO,IAAG,KAAKC,KAAM,EAA1C;AAEA,WAAO,IAAP;AACH;;AAEDmB,EAAAA,aAAa,CAACX,UAAD,EAAiC;AAC1C,SAAKL,WAAL,CAAiBiB,IAAjB,CAAsBZ,UAAtB;AAEA,WAAO,IAAP;AACH;;AAxDe","sourcesContent":["import { Ingredient } from \"./Ingredient\";\nimport { makeAutoObservable } from 'mobx'\n\ntype GlobalSystems = 'metric' | 'us';\ntype GlobalUnits = 'weight' | 'volume';\nexport type State = `${GlobalSystems}_${GlobalUnits}`;\n\nexport class Recipe {\n    multiplier = 1;\n\n    data: Ingredient;\n    system: GlobalSystems;\n    units: GlobalUnits;\n    state: State;\n    anchorIndex: number;\n    name?: string;\n    ingredients: Ingredient[];\n\n    constructor(system: GlobalSystems, units: GlobalUnits, anchorIndex: number, name?: string, ingredients?: Ingredient[]) {\n        this.data = new Ingredient();//gets info to pass to selects\n\n        makeAutoObservable(this);//mobx state observer.\n\n        this.system = system;\n        this.units = units;\n        this.state = `${this.system}_${this.units}`\n        this.anchorIndex = anchorIndex;\n        this.ingredients = [];\n\n        this.ingredients.map((ingredient, index) => {\n            this.ingredients[index].recipeIndex = index;\n        })\n        \n        if (name) this.name = name;\n        if (ingredients) this.ingredients = ingredients;\n    }\n\n    //get bakers percent of ingredient\n    bakersPercent(index: number): number {\n        const anchor = this.ingredients[this.anchorIndex];\n        const anchorValue = this.state.includes('weight') ? anchor.standardWeight : anchor.standardVolume;\n        \n        const ingredientValue = this.state.includes('weight') ? //if metric_weight or us_weight\n            this.ingredients[index].standardWeight : //return weight\n            this.ingredients[index].standardVolume; //else return volume\n            \n        return (ingredientValue! / anchorValue!) * 100;\n    }\n\n    //change recipe system and/or unit\n    changeState(system: GlobalSystems, units: GlobalUnits): Recipe {\n        this.system = system;\n        this.units = units;\n        \n        this.state = `${this.system}_${this.units}`;\n\n        return this;\n    }\n\n    addIngredient(ingredient: Ingredient): Recipe {\n        this.ingredients.push(ingredient);\n\n        return this;\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}