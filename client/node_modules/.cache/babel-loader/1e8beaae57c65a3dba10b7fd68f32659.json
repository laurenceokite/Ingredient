{"ast":null,"code":"import { relativeValues } from \"./relativeValues\";\nexport class Ingredient {\n  constructor(data, unit, system) {\n    this.system = system;\n    this.unit = unit;\n    this.weight = {\n      value: false,\n      default: false\n    };\n    this.volume = {\n      value: false,\n      default: false\n    };\n    Object.assign(this, data);\n  }\n\n  default() {\n    const {\n      unit,\n      system\n    } = this;\n    return this.convert(this[unit].default);\n  }\n\n  convert(requested) {\n    const {\n      unit,\n      system\n    } = this;\n    const relativeValue = relativeValues[system][unit][requested].value;\n    return this[unit].value / relativeValue;\n  }\n\n  findConciseUnit() {\n    const {\n      unit,\n      system\n    } = this;\n\n    if (unit === 'volume') {\n      const oppUnit = 'weight';\n    } else oppUnit = 'volume';\n\n    if (this[unit].value) {\n      const thisValue = this[unit].value;\n    } else thisValue = this[oppUnit].value;\n\n    let quotient;\n\n    for (const [key, value] of Object.entries(relativeValues[system][oppUnit])) {\n      const thisQuotient = Math.abs(value.value / thisValue);\n\n      if (quotient) {\n        if (quotient.val > thisQuotient && thisQuotient > 1) {\n          quotient = {\n            val: thisQuotient,\n            key: key\n          };\n        }\n      }\n\n      if (!quotient) {\n        quotient = {\n          val: thisQuotient,\n          key: key\n        };\n      }\n    }\n\n    return quotient.key;\n  }\n\n}","map":{"version":3,"sources":["/Users/laurenceokite/Documents/projects/recipes/src/components/RenderIngredient/Ingredient.js"],"names":["relativeValues","Ingredient","constructor","data","unit","system","weight","value","default","volume","Object","assign","convert","requested","relativeValue","findConciseUnit","oppUnit","thisValue","quotient","key","entries","thisQuotient","Math","abs","val"],"mappings":"AAAA,SAASA,cAAT,QAA+B,kBAA/B;AAEA,OAAO,MAAMC,UAAN,CAAiB;AACpBC,EAAAA,WAAW,CAACC,IAAD,EAAOC,IAAP,EAAaC,MAAb,EAAqB;AAC5B,SAAKA,MAAL,GAAcA,MAAd;AACA,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKE,MAAL,GAAc;AACVC,MAAAA,KAAK,EAAE,KADG;AAEVC,MAAAA,OAAO,EAAE;AAFC,KAAd;AAIA,SAAKC,MAAL,GAAc;AACVF,MAAAA,KAAK,EAAE,KADG;AAEVC,MAAAA,OAAO,EAAE;AAFC,KAAd;AAIAE,IAAAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAAoBR,IAApB;AACH;;AAEDK,EAAAA,OAAO,GAAG;AACN,UAAM;AAAEJ,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAmB,IAAzB;AAEA,WAAO,KAAKO,OAAL,CAAa,KAAKR,IAAL,EAAWI,OAAxB,CAAP;AACH;;AAEDI,EAAAA,OAAO,CAACC,SAAD,EAAY;AACf,UAAM;AAAET,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAmB,IAAzB;AACA,UAAMS,aAAa,GAAGd,cAAc,CAACK,MAAD,CAAd,CAAuBD,IAAvB,EAA6BS,SAA7B,EAAwCN,KAA9D;AAEA,WAAO,KAAKH,IAAL,EAAWG,KAAX,GAAmBO,aAA1B;AACH;;AAEDC,EAAAA,eAAe,GAAG;AACd,UAAM;AAAEX,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAmB,IAAzB;;AAEA,QAAID,IAAI,KAAK,QAAb,EACA;AAAE,YAAMY,OAAO,GAAG,QAAhB;AAA0B,KAD5B,MAGKA,OAAO,GAAG,QAAV;;AAEL,QAAI,KAAKZ,IAAL,EAAWG,KAAf,EACA;AAAE,YAAMU,SAAS,GAAG,KAAKb,IAAL,EAAWG,KAA7B;AAAoC,KADtC,MAGKU,SAAS,GAAG,KAAKD,OAAL,EAAcT,KAA1B;;AAEL,QAAIW,QAAJ;;AAEA,SAAK,MAAM,CAACC,GAAD,EAAMZ,KAAN,CAAX,IAA2BG,MAAM,CAACU,OAAP,CAAepB,cAAc,CAACK,MAAD,CAAd,CAAuBW,OAAvB,CAAf,CAA3B,EAA4E;AACxE,YAAMK,YAAY,GAAGC,IAAI,CAACC,GAAL,CAAShB,KAAK,CAACA,KAAN,GAAcU,SAAvB,CAArB;;AACA,UAAIC,QAAJ,EAAc;AACV,YAAIA,QAAQ,CAACM,GAAT,GAAeH,YAAf,IAA+BA,YAAY,GAAG,CAAlD,EAAqD;AACjDH,UAAAA,QAAQ,GAAG;AACPM,YAAAA,GAAG,EAAEH,YADE;AAEPF,YAAAA,GAAG,EAAEA;AAFE,WAAX;AAIH;AACJ;;AACD,UAAI,CAACD,QAAL,EAAe;AACXA,QAAAA,QAAQ,GAAG;AACPM,UAAAA,GAAG,EAAEH,YADE;AAEPF,UAAAA,GAAG,EAAEA;AAFE,SAAX;AAIH;AACJ;;AAED,WAAOD,QAAQ,CAACC,GAAhB;AACH;;AA9DmB","sourcesContent":["import { relativeValues } from \"./relativeValues\";\n\nexport class Ingredient {\n    constructor(data, unit, system) {\n        this.system = system;\n        this.unit = unit;\n        this.weight = {\n            value: false,\n            default: false\n        }\n        this.volume = {\n            value: false,\n            default: false\n        }\n        Object.assign(this, data);\n    }\n\n    default() {\n        const { unit, system } = this;\n        \n        return this.convert(this[unit].default);\n    }\n\n    convert(requested) {\n        const { unit, system } = this;\n        const relativeValue = relativeValues[system][unit][requested].value;\n\n        return this[unit].value / relativeValue;\n    }\n\n    findConciseUnit() {\n        const { unit, system } = this;\n\n        if (unit === 'volume') \n        { const oppUnit = 'weight' }\n\n        else oppUnit = 'volume';\n\n        if (this[unit].value) \n        { const thisValue = this[unit].value }\n\n        else thisValue = this[oppUnit].value;\n\n        let quotient;\n\n        for (const [key, value] of Object.entries(relativeValues[system][oppUnit])) {\n            const thisQuotient = Math.abs(value.value / thisValue);\n            if (quotient) {\n                if (quotient.val > thisQuotient && thisQuotient > 1) {\n                    quotient = {\n                        val: thisQuotient,\n                        key: key \n                    };\n                }\n            }\n            if (!quotient) {\n                quotient = {\n                    val: thisQuotient,\n                    key: key \n                };\n            }\n        }\n\n        return quotient.key;\n    }\n}"]},"metadata":{},"sourceType":"module"}