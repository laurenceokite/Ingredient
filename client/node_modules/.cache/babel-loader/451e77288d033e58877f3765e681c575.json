{"ast":null,"code":"import { Ingredient } from \"./Ingredient\"; //convert measurement number to string, formatted with commas and rounded to 0, 1 or 2 decimal points\n\nconst convertToString = (measurement, requested) => {\n  if (measurement) {\n    //if measurement is in pounds send to displayPounds function for further formatting\n    if (requested === \"pounds\") {\n      return displayPounds(measurement);\n    } else {\n      return (Math.round(measurement * 100) / 100).toLocaleString();\n    }\n  } else {\n    //if no measurement\n    return false;\n  }\n}; //format pounds for display as string\n\n\nconst displayPounds = measurement => {\n  const pounds = parseInt(measurement);\n  const remainder = measurement % 1;\n  const ounces = (remainder * 16).toFixed(1);\n\n  if (remainder) {\n    return `${pounds}: ${ounces}`;\n  } else if (measurement) {\n    return measurement;\n  } else {\n    return false;\n  }\n};\n\nconst returnIngredient = (data, unit, system, requested, autoconvert) => {\n  /*\n  {\n      name: \"\",\n      [unit]: {\n          value: float,\n          default: [default unit of measurement]\n  }\n  global unit and system, \n   */\n  const ingredient = new Ingredient(data, unit, system);\n\n  if (!requested || requested === ingredient[unit].default) {\n    if (ingredient[unit]) {\n      if (ingredient.default()) {\n        const {\n          measurement,\n          newUnit\n        } = ingredient.default();\n        return {\n          name: ingredient.name,\n          unit: newUnit,\n          measurement: convertToString(measurement, requested)\n        };\n      } else {\n        const {\n          measurement,\n          newUnit\n        } = ingredient.findConciseUnit();\n        return {\n          name: ingredient.name,\n          unit: newUnit,\n          measurement: convertToString(measurement, requested)\n        };\n      }\n    }\n\n    console.log(autoconvert);\n\n    if (autoconvert) {\n      const {\n        measurement,\n        newUnit\n      } = ingredient.findConciseUnit();\n      return {\n        name: ingredient.name,\n        unit: newUnit,\n        measurement: convertToString(measurement, requested)\n      };\n    } else {\n      return {\n        name: ingredient.name,\n        unit: false,\n        measurement: false\n      };\n    }\n  }\n\n  if (requested !== ingredient[unit].default) {\n    if (ingredient[unit]) {\n      const {\n        measurement,\n        newUnit\n      } = ingredient.convert(requested);\n      return {\n        name: ingredient.name,\n        unit: newUnit,\n        measurement: convertToString(measurement, requested)\n      };\n    }\n\n    if (autoconvert) {\n      const {\n        measurement,\n        newUnit\n      } = ingredient.findConciseUnit();\n      return {\n        name: ingredient.name,\n        unit: newUnit,\n        measurement: convertToString(measurement, requested)\n      };\n    }\n\n    if (!ingredient[unit]) {\n      return {\n        name: ingredient.name,\n        unit: requested,\n        measurement: false\n      };\n    }\n  }\n};\n\nexport default returnIngredient;","map":{"version":3,"sources":["/Users/laurenceokite/Documents/projects/recipes/src/components/RenderIngredient/returnIngredient.js"],"names":["Ingredient","convertToString","measurement","requested","displayPounds","Math","round","toLocaleString","pounds","parseInt","remainder","ounces","toFixed","returnIngredient","data","unit","system","autoconvert","ingredient","default","newUnit","name","findConciseUnit","console","log","convert"],"mappings":"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","sourcesContent":["import { Ingredient } from \"./Ingredient\";\n\n//convert measurement number to string, formatted with commas and rounded to 0, 1 or 2 decimal points\nconst convertToString = (measurement, requested) => {\n    if (measurement) {\n        //if measurement is in pounds send to displayPounds function for further formatting\n        if (requested === \"pounds\") {\n            return displayPounds(measurement);\n        }\n        else {\n            return (Math.round(measurement*100)/100).toLocaleString();\n        }\n    }\n    else {\n        //if no measurement\n        return false;\n    }\n}\n\n//format pounds for display as string\nconst displayPounds = (measurement) => {\n    const pounds = parseInt(measurement);\n    const remainder = measurement % 1;\n    const ounces = (remainder*16).toFixed(1);\n    \n    if (remainder) {\n        return `${pounds}: ${ounces}`;\n    }\n    else if (measurement) {\n        return measurement;\n    } \n    else {\n        return false;\n    }\n}\n\nconst returnIngredient = (data, unit, system, requested, autoconvert) => {\n    /*\n    {\n        name: \"\",\n        [unit]: {\n            value: float,\n            default: [default unit of measurement]\n    }\n    global unit and system, \n\n    */\n    const ingredient = new Ingredient(data, unit, system);\n\n    if (!requested || (requested === ingredient[unit].default)) {\n       \n        if (ingredient[unit]) {\n            if (ingredient.default()) {\n                const { measurement, newUnit } = ingredient.default();\n\n\n                return {\n                    name: ingredient.name,\n                    unit: newUnit,\n                    measurement: convertToString(measurement, requested)\n                }\n\n            } else {\n                const { measurement, newUnit } = ingredient.findConciseUnit();\n\n                return {\n                    name: ingredient.name,\n                    unit: newUnit,\n                    measurement: convertToString(measurement, requested)\n                }\n            }\n        }\n        console.log(autoconvert);\n        if (autoconvert) {\n            const { measurement, newUnit } = ingredient.findConciseUnit();\n            return {\n                name: ingredient.name,\n                unit: newUnit,\n                measurement: convertToString(measurement, requested)\n            }\n        }\n\n        else {\n            return {\n                name: ingredient.name,\n                unit: false,\n                measurement: false\n            }\n        }\n    }\n\n    if (requested !== ingredient[unit].default) {\n        if (ingredient[unit]) {\n            const { measurement, newUnit } = ingredient.convert(requested);\n            return {\n                name: ingredient.name,\n                unit: newUnit,\n                measurement: convertToString(measurement, requested)\n            }\n        }\n\n        if (autoconvert) {\n            const { measurement, newUnit } = ingredient.findConciseUnit();\n            return {\n                name: ingredient.name,\n                unit: newUnit,\n                measurement: convertToString(measurement, requested)\n            }\n        }\n\n        if (!ingredient[unit]) {\n            return {\n                name: ingredient.name,\n                unit: requested,\n                measurement: false\n            }\n        }\n    }\n\n    \n\n}\n\nexport default returnIngredient;"]},"metadata":{},"sourceType":"module"}